<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATIP Canadá</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://js.stripe.com/v3"></script>
</head>

<body>
    <header id="home">
        <div class="logo">
            <a href="#home">ATIP CANADÁ</a>
        </div>
        <nav>
            <a href="#formulario" class="nav__link">ATIP</a>
            <a href="#quem-somos" class="nav__link">Quem Somos</a>
            <a href="#contato" class="nav__link">Contato</a>
        </nav>
        <div class="menu-hamburguer" id="menu-hamburguer">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                class="size-10 text-sky-950">
                <path fill-rule="evenodd"
                    d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z"
                    clip-rule="evenodd" />
            </svg>
        </div>
        <div id="menu">
            <ul>
                <li><a href="#formulario">ATIP</a></li>
                <li><a href="#quem-somos">Quem Somos</a></li>
                <li><a href="#contato">Contato</a></li>
            </ul>
        </div>
    </header>


    <main class="form__container" id="formulario">
        <h1 class="form__title">Formulário</h1>

        <form action="mail.php" method="POST" enctype="multipart/form-data">
            <div class="form-box">
                <div class="left-side">
                    <div class="input__container">
                        <label for="nome">NOME</label>
                        <input type="text" name="name" placeholder="Digite seu nome" required>
                    </div>

                    <div class="input__container">
                        <label for="sobrenome">SOBRENOME</label>
                        <input type="text" name="sobrenome" placeholder="Digite seu sobrenome" required>
                    </div>

                    <div class="input__container">
                        <label for="email">E-MAIL</label>
                        <input type="email" name="email" placeholder="Digite seu e-mail" required>
                    </div>

                    <div class="input__container">
                        <label for="fone">TELEFONE</label>
                        <input type="tel" name="fone" placeholder="(11) 99999-9999" required>
                    </div>

                    <div class="input__container">
                        <label for="passport_file">PASSAPORTE</label>
                        <div class="dropzone" id="passport-dropzone">
                            <div style="display: flex; justify-content: center; margin-bottom: 15px;">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor" class="size-6">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5" />
                                </svg>
                            </div>
                            <div class="dropzone-text">Arraste e solte os arquivos aqui ou clique para selecionar</div>
                        </div>
                        <input type="file" id="passport_file" name="passport_file[]" multiple hidden>
                    </div>

                </div>

                <div class="right-side">
                    <div class="input__container">
                        <label for="visa_file">VISTO NEGADO</label>
                        <div class="dropzone" id="visa-dropzone">
                            <div style="display: flex; justify-content: center; margin-bottom: 15px;">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor" class="size-6">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5" />
                                </svg>
                            </div>
                            <div class="dropzone-text">Arraste e solte os arquivos aqui ou clique para selecionar</div>
                        </div>
                        <input type="file" id="visa_file" name="visa_file[]" multiple hidden>
                    </div>

                    <div class="input__container" id="produtos">
                        <label>PRODUTOS</label>
                        <div class="produtos__container">
                            <div class="produtos__input">
                                <input type="checkbox" name="produtos[]" value="price_1PO5SFRsQ8O8Oe05DdUHgU2R"
                                    style="width: 25px;">
                                <label for="">Premium Mid</label>
                            </div>

                            <div class="produtos__input">
                                <input type="checkbox" name="produtos[]" value="price_1PO4zHRsQ8O8Oe051kY6jEJo"
                                    style="width: 25px;">
                                <label for="">Premium Plan</label>
                            </div>

                            <div class="produtos__input">
                                <input type="checkbox" name="produtos[]" value="price_1PO5UWRsQ8O8Oe05tAO8TJ62"
                                    style="width: 25px;">
                                <label for="">Premium Global</label>
                            </div>
                            <div style="display: flex; justify-content: center;">
                                <a href="pagina_intermediaria.html" class="enviar__btn" id="checkout-link"
                                    target="_blank">EFETUAR COMPRA</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <input type="hidden" name="payment_success" id="payment_success" value="false">
            <div style="display: flex; justify-content: center; margin-top: 50px;">
                <button type="submit" class="enviar__btn" target="_blank">ENVIAR FORMULÁRIO</button>
            </div>
        </form>
    </main>

    <section class="quem-somos" id="quem-somos">
        <h1>Quem Somos</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc rutrum, purus at tempus ultrices, justo erat
            laoreet augue, eu vestibulum urna massa ac lacus. Quisque ac ornare odio. Maecenas a quam sollicitudin,
            aliquam nibh id, laoreet turpis. Duis et augue blandit, efficitur dui ac, rhoncus nisl. Sed tellus mi,
            volutpat et turpis in, congue accumsan nisl.</p>
    </section>

    <section class="contato" id="contato">
        <h1>Contato</h1>
        <a>info@atipcanada.com</a>
    </section>

    <script>
        document.getElementById("checkout-link").addEventListener('click', function (event) {
            event.preventDefault();

            var selectedProducts = document.querySelectorAll('input[name="produtos[]"]:checked');
            var productsToPass = [];

            selectedProducts.forEach(function (product) {
                productsToPass.push(product.value);
            });

            if (productsToPass.length > 0) {
                var queryString = "?produtos=" + encodeURIComponent(productsToPass.join(','));
                window.open("pagina_intermediaria.html" + queryString, "_blank");
            } else {
                alert('Por favor, selecione pelo menos um produto.');
            }
        });

        document.querySelector('form').addEventListener('submit', function (event) {
            if (localStorage.getItem('payment_success') !== 'true') {
                event.preventDefault();
                alert('Por favor, efetue o pagamento antes de enviar o formulário.');
            } else {
                document.getElementById('payment_success').value = 'true';
                localStorage.removeItem('payment_success');
            }
        })
    </script>
</body>

</html>